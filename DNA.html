<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <title>Interaktiv DNA Replikation - Forbedret</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f0f4f8;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
      padding: 20px;
      min-height: 100vh;
    }
    h1 {
      color: #2c3e50;
    }
    .main-container {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        gap: 60px;
        width: 100%;
        margin-top: 40px;
    }
    .dna-helix-container {
      perspective: 1000px;
      width: 200px;
      height: 600px;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative; /* For positioning static elements */
    }
    .dna-strand {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      animation: rotate-helix 30s linear infinite;
    }
    @keyframes rotate-helix {
      from { transform: rotateY(0deg); }
      to { transform: rotateY(360deg); }
    }
    .base-pair {
      position: absolute;
      width: 100%;
      height: 10px;
      top: 50%;
      left: 0;
      transform-style: preserve-3d;
      cursor: pointer;
      transition: transform 0.3s;
    }
    .base-pair:hover {
        transform: scale3d(1.1, 1.1, 1.1);
    }
    .base {
      position: absolute;
      width: 50%;
      height: 10px;
      background-size: 200%;
    }
    .left {
      left: 0;
      border-radius: 5px 0 0 5px;
    }
    .right {
      right: 0;
      border-radius: 0 5px 5px 0;
    }
    .a { background-color: #3498db; } /* Adenine: Blue */
    .t { background-color: #9b59b6; } /* Thymine: Purple */
    .c { background-color: #e67e22; } /* Cytosine: Orange */
    .g { background-color: #2ecc71; } /* Guanine: Green */

    /* Static Helicase Elements */
    #origin-static-container {
        position: absolute;
        width: 100%;
        height: 10px;
        top: 50%;
        left: 0;
        transform-style: preserve-3d;
        /* Position it where the 6th base pair is */
        transform: translateY(0px) rotateY(150deg);
    }
    #helicase {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) translateZ(5px);
      width: 50px;
      height: 50px;
      background: #e74c3c;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 24px;
      font-weight: bold;
      z-index: 10;
      box-shadow: 0 0 15px rgba(231, 76, 60, 0.7);
      cursor: pointer;
    }
     #helicase .tooltip {
      visibility: hidden;
      width: 160px;
      background-color: #555;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px 0;
      position: absolute;
      z-index: 1;
      bottom: 150%;
      left: 50%;
      margin-left: -80px;
      opacity: 0;
      transition: opacity 0.3s;
    }
    #helicase:hover .tooltip {
      visibility: visible;
      opacity: 1;
    }

    /* Info Panels */
    .info-panel {
      width: 350px;
      padding: 20px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      position: relative;
    }
    #base-info {
        display: none; /* Hidden by default */
        min-height: 100px;
        border-left: 5px solid #3498db;
    }
    #helicase-info {
      display: none;
      border-left: 5px solid #e74c3c;
    }
    .info-panel h3 {
      margin-top: 0;
    }
    .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 24px;
        font-weight: bold;
        color: #aaa;
        cursor: pointer;
    }
    .close-btn:hover {
        color: #333;
    }
  </style>
</head>
<body>

  <h1>Forbedret Interaktiv DNA Replikation</h1>
  
  <div class="main-container">
    <div class="dna-helix-container">
      <div class="dna-strand" id="dna-strand">
        <!-- DNA strand will be generated by JavaScript -->
      </div>
      <!-- Static Helicase, positioned over the rotating strand -->
      <div id="helicase">
        H
        <span class="tooltip">Helicase and Origin</span>
      </div>
    </div>

    <div class="info-panels">
        <div id="base-info" class="info-panel">
            <span class="close-btn" id="close-base-info">&times;</span>
            <h3>Basepar Information</h3>
            <p>Klik på et basepar på DNA-strengen for at se information her.</p>
        </div>
        <div id="helicase-info" class="info-panel" style="margin-top: 20px;">
            <h3>Helicase Enzymet</h3>
            <p>Helicase er et essentielt enzym, der "lyner op" for DNA-strengen ved at bryde hydrogenbindingerne. Dette skaber to separate skabeloner til replikation.</p>
        </div>
    </div>
  </div>

  <script>
    const dnaStrandContainer = document.getElementById('dna-strand');
    const helicaseDiv = document.getElementById('helicase');
    const helicaseInfo = document.getElementById('helicase-info');
    const baseInfoPanel = document.getElementById('base-info');
    const closeBaseInfoBtn = document.getElementById('close-base-info');

    const basePairs = [
      { a: 'a', b: 't' }, { a: 'c', b: 'g' }, { a: 'g', b: 'c' }, { a: 't', b: 'a' },
      { a: 'a', b: 't' }, { a: 'c', b: 'g' }, { a: 'g', b: 'c' }, { a: 't', b: 'a' },
      { a: 'c', b: 'g' }, { a: 'a', b: 't' }, { a: 'g', b: 'c' }, { a: 't', b: 'a' }
    ];
    const baseNames = { a: 'Adenin', t: 'Thymin', c: 'Cytosin', g: 'Guanin' };
    const colorNames = { a: 'Blå', t: 'Lilla', c: 'Orange', g: 'Grøn' };

    // Generate the DNA strand
    basePairs.forEach((pair, index) => {
      const pairDiv = document.createElement('div');
      pairDiv.className = 'base-pair';
      
      const angle = index * 30;
      const yPos = index * 50 - (basePairs.length * 25);
      pairDiv.style.transform = `translateY(${yPos}px) rotateY(${angle}deg) translateZ(0px)`;

      const base1 = document.createElement('div');
      base1.className = `base left ${pair.a}`;
      
      const base2 = document.createElement('div');
      base2.className = `base right ${pair.b}`;
      
      pairDiv.appendChild(base1);
      pairDiv.appendChild(base2);

      const pairInfo = `Basepar: ${baseNames[pair.a]} (${colorNames[pair.a]}) & ${baseNames[pair.b]} (${colorNames[pair.b]}).`;
      pairDiv.onclick = () => {
          baseInfoPanel.innerHTML = `<span class="close-btn" onclick="document.getElementById('base-info').style.display='none'">&times;</span><h3>Basepar Information</h3><p>${pairInfo}</p>`;
          baseInfoPanel.style.display = 'block';
          helicaseInfo.style.display = 'none';
      };
      
      dnaStrandContainer.appendChild(pairDiv);
    });

    // Helicase click event
    helicaseDiv.onclick = () => {
        const isVisible = helicaseInfo.style.display === 'block';
        helicaseInfo.style.display = isVisible ? 'none' : 'block';
        baseInfoPanel.style.display = 'none';
    };

  </script>

</body>
</html>
